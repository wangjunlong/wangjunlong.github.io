<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    又见Myspace
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="/theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="/theme/css/main.css">

    <link rel="stylesheet" href="/theme/css/blog.css">
    <link rel="stylesheet" href="/theme/css/github.css">
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="樂 · 麟 Atom Feed" />
        <script src="/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href=""><h1><i class="icon-coffee"></i> 樂 · 麟</h1></a>
        <p id="site-desc"></p>
    </hgroup>
    <nav>
        <ul id="nav-links">
        </ul>
    </nav>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> and <a href="http://python.org/" target="python">Python</a>. Theme by <a href="https://github.com/hdra/pelican-cait" target="github">hndr</a>.
    </p>
    <p>
        Textures by <a href="http://subtlepatterns.com/" target="subtlepatterns">Subtle Pattern</a>. Font Awesome by <a href="http://fortawesome.github.io/Font-Awesome/" target="github">Dave Grandy</a>.
    </p>
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2014-04-17T00:00:00" pubdate>
                            四 17 四月 2014
                        </time>
                        <a href="/you-jian-myspace.html" rel="bookmark"><h1>又见Myspace</h1></a>
                    </header>

                    <section class="post-content">
                        <p>很早之前就想建一个属于自己的空间，最早的时候在myspace建过一个，也经营得不错。可惜后来Microsoft关闭了专项服务，导致不得不将其搬家至新浪博客。但是国内博客的同质化比较严重，所以慢慢的，也就荒废了。直到去年找工作期间，在北邮人论坛上一个小学弟发了一个关于建立github技术博客的帖子。看到简洁又自主的博客，不禁又重新燃起自己建站的愿望。但一直都在自己给自己找借口，迟迟没有行动。这几日在家中等待工作落定的结果，实在闲的焦虑，于是翻出老爹早就准备好的mac，重新踏上个人小兴趣的探索之路。</p>
<blockquote>
<p>其实一开始这篇文章的题目是《pelican+github快速搭建个人博客》，但是写完第一段突然觉得这个题目过于程序员了，一点也不“文艺”，于是乎新题目就来了。——又见Myspace</p>
</blockquote>
<p>其实目前的版本是最简单的版本，这里的blog应该是我原计划个人空间的一个部分，但也是主要部分了。现在的theme虽然不是最满意，但也是比较接近我想想的风格了。我会慢慢的研究探索，并恢复出当年Myspace的气息。然后不断地让这里朝着我理想的状态发展，然后最终开启www.lonniewang.com的使用。</p>
<p>下面就一步一步的回述我的搭建过程：</p>
<p>搭建环境：</p>
<div class="highlight"><pre><span class="n">mac</span> <span class="n">OS</span> <span class="n">X</span> <span class="mf">10.9.2</span>
<span class="n">python</span> <span class="mf">2.7.5</span>
<span class="n">pelican</span> <span class="n">lastest</span> <span class="n">version</span>
<span class="n">markdown</span> <span class="n">lastest</span> <span class="n">version</span>
<span class="n">git</span> <span class="mf">1.9.0</span>
</pre></div>


<p>OS X默认安装了python，而且很多非windows系统都默认安装了2.7左右版本的python，所以这里不过多记录python安装过程。windows的安装过程也很简单，官网下载一个安装包，然后配置一下环境变量就可以了。</p>
<h3>1.安装pelican、markdown、git</h3>
<p>选择pelican是因为他是纯python的框架，研究生期间学到的python技能可以进一步得到应用。另外，个人觉得使用markdown编辑文档是一件很赏心悦目的事情，django也是很不错的框架，但是pelican支持markdown转译，所以二者搭配起来自然会比较爽。</p>
<p>安装比较方便，使用如下命令：</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">easy_install</span> <span class="n">pelican</span>
<span class="n">sudo</span> <span class="n">easy_install</span> <span class="n">markdown</span>
</pre></div>


<p>mac中已经默认安装好了easy_install，这是一个安装pyhon包的快捷工具，类似的还有pip，可以通过easy_install pip来安装。windows下需要暗转setuptools来支持easy_install功能。</p>
<p>git的安装，是单独下载安装包安装的，在google或者baidu里搜索mac git安装就能找到安装文件，然后安装就好了。</p>
<h3>2.本地建立pelican框架</h3>
<p>在本地想存放blog的位置执行如下命令，建立博客框架：</p>
<div class="highlight"><pre><span class="n">mkdir</span> <span class="n">blog</span>              <span class="err">#</span><span class="n">blog</span><span class="err">可以自定义</span>
<span class="n">cd</span> <span class="n">blog</span>                 <span class="err">#进入创建的文件夹</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">quickstart</span>      <span class="err">#</span><span class="n">pelican</span><span class="err">快速建立框架</span>
</pre></div>


<p>之后会在blog目录下生成如下结构</p>
<div class="highlight"><pre><span class="n">blog</span><span class="o">/</span>  
<span class="err">├──</span> <span class="n">content</span>  <span class="err">#</span> <span class="err">存放你要写的博客</span>  
<span class="err">│</span>   <span class="err">└──</span> <span class="p">(</span><span class="n">pages</span><span class="p">)</span>  <span class="err">#单纯的页面</span>  
<span class="err">├──</span> <span class="n">output</span>   <span class="err">#</span> <span class="err">生成的输出文件</span>  
<span class="err">├──</span> <span class="n">develop_server</span><span class="p">.</span><span class="n">sh</span><span class="err">#</span> <span class="err">方便开启测试服务器</span>  
<span class="err">├──</span> <span class="n">Makefile</span> <span class="err">#</span> <span class="err">方便管理博客的</span><span class="n">Makefile</span>  
<span class="err">├──</span> <span class="n">pelicanconf</span><span class="p">.</span><span class="n">py</span>   <span class="err">#</span> <span class="err">主配置文件</span>  
<span class="err">└──</span> <span class="n">publishconf</span><span class="p">.</span><span class="n">py</span>   <span class="err">#</span> <span class="err">主发布文件，可删除</span>
</pre></div>


<p>其中content、output、pelicanconf.py这三项是用的最多的。content存放我们自己编写的markdown文件，output存放由content目录的markdown转换来的html文件以及publish出来的网页文件。pelicanconf.py文件存储blog的基本配置信息，如blog的标题，时域，theme等其他相关信息。</p>
<h3>3.为博客写第一篇文章</h3>
<p>mac下一般使用Mou工具来书写markdown文件，Mou为用户提供了边写边预览的功能。写好后将文件存在blog/content下面。
在blog目录下执行如下命令：</p>
<div class="highlight"><pre><span class="n">make</span> <span class="n">html</span>
<span class="n">make</span> <span class="n">publish</span>
</pre></div>


<p>这样blog就发布成功了，以后进行了各种修改，想要重新发布的话，执行这两个命令就可以了。</p>
<p>想要在本地预览下的话，执行如下命令：</p>
<div class="highlight"><pre><span class="n">make</span> <span class="n">serve</span>
</pre></div>


<p>或者</p>
<div class="highlight"><pre><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">SimpleHTTPServer</span>
</pre></div>


<p>然后在浏览器中输入</p>
<div class="highlight"><pre><span class="nl">http:</span><span class="c1">//127.0.0.1：8000</span>
</pre></div>


<p>就可以看到预览效果了。</p>
<blockquote>
<p>make功能在mac中需要安装xcode才能使用，如果你发现make不能用的话，在iTunes里安装一下xcode就可以了。（也许会提示你要先更新OS X才能安装xcode）</p>
</blockquote>
<h3>4.更换theme</h3>
<p>到这已经非常有成就感了。但是对默认的basic主题不满意，于是乎开始寻求更换blog的theme。找了很多资料，但是大家都说的比较泛，多次尝试之后总结了如下的步骤。</p>
<p>首先，在blog目录下执行：</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/getpelican/pelican-themes.git</span>
</pre></div>


<p>将pelican-themes复制到本地，这是一个theme包，不知道是不是官方的，但是貌似所有的theme都在里面。也可以不复制整个pelican-themes版本库，可以在https://github.com/getpelican/pelican-themes.git里挨个看theme，喜欢哪个直接clone那个到blog目录下就好。</p>
<p>确定了使用哪个后修改pelicanconf.py文件，加入</p>
<div class="highlight"><pre><span class="n">THEME</span> <span class="o">=</span> <span class="s">&quot;your theme path&quot;</span>
</pre></div>


<blockquote>
<p>比如你过你要用的theme在pelican-themes目录下的pelican-cait文件夹中，那么THEME = "pelican-themes/pelican-cait"。 不同的theme可能有自己特殊的设置要求，注意配置就是了。</p>
</blockquote>
<p>保存pelicanconf.py文件后，重新发布blog就可以了。</p>
<h3>5.开通github</h3>
<p>github入门的知识请看文后附的参考资料</p>
<p>Github为每一个用户分配了一个二级域名username.github.io，用户为自己的二级域名创建主页很简单，只需要在Github下创建一个名为username.github.io的版本库，并向其master分支提交网站静态页面即可。</p>
<ul>
<li>
<p>登陆Github，创建一个名为username.github.io的版本库（将username替换成自己的Github账户名）。</p>
</li>
<li>
<p>点击Setting，选择一个自己喜欢的模板，最后点击发布public按钮。</p>
</li>
<li>
<p>耐心等待一段时间（不超过10分钟），登陆http://username.github.io，会发现自己的个人博客已经生成。</p>
</li>
</ul>
<h3>6.将本地的博客同步到github</h3>
<p>本地进入blog/output目录，执行如下命令：</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">init</span>    <span class="err">#在</span><span class="n">output</span><span class="err">建立</span><span class="n">git</span><span class="err">版本库</span>
<span class="n">git</span> <span class="n">add</span> <span class="p">.</span>   <span class="err">#添加</span><span class="n">output</span><span class="err">下所有文件进入本地版本库</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/username/username.github.io.git  </span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">master</span>      <span class="err">#将</span><span class="n">github</span><span class="err">上的文件先</span><span class="n">pull</span><span class="err">到本地</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="err">&#39;</span><span class="n">commit</span><span class="err">&#39;</span>     <span class="err">#标记</span><span class="n">commit</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>   <span class="err">#</span><span class="n">push</span><span class="err">本地版本库文件到</span><span class="n">github</span><span class="err">上</span>
</pre></div>


<p>也有可以一键上传到Github的方法，需要修改Makefile两处地方：</p>
<div class="highlight"><pre><span class="nl">publish:</span>
<span class="err">$</span><span class="p">(</span><span class="n">PELICAN</span><span class="p">)</span> <span class="err">$</span><span class="p">(</span><span class="n">INPUTDIR</span><span class="p">)</span> <span class="o">-</span><span class="n">o</span> <span class="err">$</span><span class="p">(</span><span class="n">OUTPUTDIR</span><span class="p">)</span> <span class="o">-</span><span class="n">s</span> <span class="err">$</span><span class="p">(</span><span class="n">CONFFILE</span><span class="p">)</span> <span class="err">$</span><span class="p">(</span><span class="n">PELICANOPTS</span><span class="p">)</span>

<span class="nl">github:</span> <span class="n">publish</span>
<span class="n">cd</span> <span class="n">OUTPUTDIR</span> <span class="p">;</span> <span class="n">git</span> <span class="n">add</span> <span class="p">.</span> <span class="p">;</span>  <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="err">&#39;</span><span class="n">your</span> <span class="n">comments</span><span class="err">&#39;</span> <span class="p">;</span> <span class="n">git</span> <span class="n">push</span>
</pre></div>


<p>修改后，可以直接使用如下命令同步</p>
<div class="highlight"><pre><span class="n">make</span> <span class="n">github</span>
</pre></div>


<h3>7.其他</h3>
<p>许多theme种都会要求填写DISQUS_SITENAME和GOOGLE_ANALYTICS，前者提供评论功能，后者提供问网站的访问流量统计功能，可以帮助网站更好地被google检索到。前者直接在disqus主页上注册，然后记住注册的名字。后者在<a href="">http://www.google.com/analytics</a>注册后会给你一个ID。</p>
<div class="highlight"><pre><span class="n">DISQUS_SITENAME</span> <span class="o">=</span> <span class="err">‘</span><span class="n">your</span> <span class="n">disqus</span> <span class="n">site</span> <span class="n">name</span><span class="err">’</span>
<span class="n">GOOGLE_ANALYTICS</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">your</span> <span class="n">GA</span> <span class="n">ID</span><span class="err">&#39;</span>     <span class="err">#类似于</span><span class="n">GA415143323</span><span class="o">-</span><span class="mi">1</span>
</pre></div>


<h3>8.域名绑定</h3>
<p>域名我是在很早就在新网买好了，根据前人的经验，我在新网的DNS管理里做了如下设置：</p>
<div class="highlight"><pre><span class="err">申请一条</span><span class="n">A</span><span class="err">记录指向</span><span class="n">Github</span> <span class="n">Pages</span><span class="err">的</span><span class="n">ip</span><span class="o">:</span><span class="mf">207.97.227.245</span>
</pre></div>


<p>然后在github上username.github.io版本库最外层的目录上添加一个CNAME文件，文件内容为自己A记录里设置的域名，这里我的是blog.lonniewang.com</p>
<p>至此整个设置就完成了。以后添加文章就如第3步写的一样就可以了。</p>
<h3>附上整个搭建过程中在网上找到的有用的参考资料：</h3>
<p>[1] <a href="http://www.dongxf.com/3_Build_Personal_Blog_With_Pelican_And_GitHub_Pages.html">用 Pelican 和 GitHub Pages 搭建免费的个人博客</a></p>
<p>[2] <a href="http://www.lizherui.com/pages/2013/08/17/build_blog.html">一步一步打造Geek风格的技术博客</a></p>
<p>[3] <a href="http://akenzc.com/how-to-build-a-blog-with-pelican.html">使用Pelican搭建Blog</a></p>
<p>[4] <a href="http://sunus.me/">http://sunus.me/</a></p>
<p>[5] <a href="http://docs.getpelican.com/en/latest/getting_started.html">Pelican Getting started</a></p>
<p>[6] <a href="https://github.com/qpython-android/qpython-android.pelican/blob/master/content/jekyll2pelican.md">如何从 Jekyll 转进入 Pelican</a></p>
<p>[7] <a href="http://www.yanyulin.info/pages/2013/11/github.html">Github简明教程(入门篇)</a></p>
<p>[8] <a href="http://www.yanyulin.info/pages/2013/11/githubM.html">Github上如何给别人贡献代码</a></p>
<p>[9] <a href="http://blog.csdn.net/zwjlpeng/article/details/16918289">pelican搭建属于自已的博客</a></p>
                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="/category/zai-lu-shang.html">在路上</a></p>
                        <p>Tags: <a href="/tag/pelican.html">pelican</a>, <a href="/tag/github.html">github</a>, <a href="/tag/markdown.html">markdown</a>, <a href="/tag/blog.html">blog</a>, <a href="/tag/zhu-ji-yu-ming.html">主机域名</a>, <a href="/tag/python.html">python</a>, </p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'lonniewang';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>

<script>
    var _gaq=[['_setAccount','UA-50114167-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
        <script src="/theme/js/main.js"></script>
    </body>
</html>